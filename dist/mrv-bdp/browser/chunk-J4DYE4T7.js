import{a as xe,b as Se,c as we}from"./chunk-CIEJV65P.js";import{a as Y,b as ee,c as te,d as ie,e as oe,f as ae,g as ne,h as re,i as le,j as se,k as de,l as me,n as M,o as ue,p as ye,q as pe}from"./chunk-XBSZIRZA.js";import{a as X}from"./chunk-IXGIIPBD.js";import{b as T,c as k,e as I,f as W,h as D,i as Me,j as $,k as Ne,m as U,p as Z,t as J,u as Re,v as K,x as v}from"./chunk-B4EPVZF2.js";import"./chunk-IX6G3U3V.js";import"./chunk-OGI2M7DR.js";import{k as P,m as B,p as Q}from"./chunk-6XSUGG7T.js";import{$ as f,$b as C,Ab as p,Bb as g,Cb as h,Eb as N,Jb as u,Kb as w,Ob as O,Pb as V,Qb as H,Ub as l,Va as s,Wa as j,Wb as b,Xb as L,Yb as G,Zb as z,ac as A,bc as q,da as _,la as F,ma as R,mb as c,na as y,oa as x,ob as m,pa as S,ua as E,yb as e,zb as a}from"./chunk-XFA5AQSA.js";import"./chunk-TSRGIXR5.js";var Le=o=>({"border-red-500":o});function Ge(o,i){o&1&&(e(0,"div",10),l(1," * "),a())}var Fe=class o{constructor(i,n){this.fb=i;this.residuoService=n;this.dataForm=this.fb.group({clase:["",k.required]})}data=null;onCloseModal=new E;toastr=f(v);dataForm;ngOnChanges(){this.data&&this.dataForm.patchValue({clase:this.data.clase})}onSubmit(){this.dataForm.valid?this.data?this.residuoService.actualizaResiduo(this.data.id,this.dataForm.value).subscribe({next:i=>{this.resetdataForm(),this.toastr.success("Clase de Residuo actualizad"),this.data=null}}):this.residuoService.crearResiduo(this.dataForm.value).subscribe({next:i=>{this.resetdataForm(),this.toastr.success("Residuo registrado con exito!")}}):this.dataForm.markAllAsTouched()}onClose(){this.onCloseModal.emit(!1),this.dataForm.reset()}resetdataForm(){this.dataForm.reset(),this.onClose()}static \u0275fac=function(n){return new(n||o)(j(J),j(xe))};static \u0275cmp=_({type:o,selectors:[["app-residuo-create"]],inputs:{data:"data"},outputs:{onCloseModal:"onCloseModal"},standalone:!0,features:[F,C],decls:14,vars:5,consts:[[1,"mb-5","text-lg","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"w-full",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],[1,"relative","mt-6","flex","items-center"],["type","text","name","clase","id","clase","placeholder","clase","formControlName","clase","autocomplete","NA",1,"peer","mt-1","w-full","border-b-2","border-gray-300","px-2","py-1.5","bg-gray-100","placeholder:text-transparent","focus:border-gray-500","focus:outline-none","focus:bg-white","rounded-md","text-sm",3,"ngClass"],["for","clase",1,"pointer-events-none","absolute","top-0","left-0","origin-left","-translate-y-1/2","transform","text-sm","text-gray-800","opacity-75","transition-all","duration-100","ease-in-out","peer-placeholder-shown:top-1/2","peer-placeholder-shown:text-base","peer-placeholder-shown:text-gray-500","peer-focus:top-0","peer-focus:pl-0","peer-focus:text-sm","peer-focus:text-gray-800"],["class","absolute -right-4 text-red-500",4,"ngIf"],[1,"my-5"],["type","submit",1,"text-white","bg-blue-600","hover:bg-blue-700","font-medium","rounded-lg","w-full","sm:w-auto","px-5","py-2.5","text-center"],["type","button",1,"text-white","ms-2","bg-gray-700","hover:bg-gray-800","font-medium","rounded-lg","w-full","sm:w-auto","px-5","py-2.5","text-center",3,"click"],[1,"absolute","-right-4","text-red-500"]],template:function(n,t){if(n&1&&(e(0,"h5",0),l(1,"Ingresar Residuo"),a(),e(2,"form",1),u("ngSubmit",function(){return t.onSubmit()}),e(3,"div",2)(4,"div",3),p(5,"input",4),e(6,"label",5),l(7,"Clase de Residuo"),a(),c(8,Ge,2,0,"div",6),a()(),e(9,"div",7)(10,"button",8),l(11,"Submit"),a(),e(12,"button",9),u("click",function(){return t.onClose()}),l(13,"Cancel"),a()()()),n&2){let r,d;s(2),m("formGroup",t.dataForm),s(3),m("ngClass",q(3,Le,((r=t.dataForm.get("clase"))==null?null:r.hasError("required"))&&((r=t.dataForm.get("clase"))==null?null:r.touched))),s(3),m("ngIf",((d=t.dataForm.get("clase"))==null?null:d.hasError("required"))&&((d=t.dataForm.get("clase"))==null?null:d.touched))}},dependencies:[Q,P,B,K,$,T,I,W,U,Z]})};var Te=o=>({"border-red-500":o});function ze(o,i){o&1&&(e(0,"div",15),l(1," * "),a())}function Ae(o,i){o&1&&(e(0,"div",15),l(1," * "),a())}function Pe(o,i){o&1&&(e(0,"div",15),l(1," * "),a())}function Be(o,i){o&1&&(e(0,"div",15),l(1," * "),a())}var Ie=class o{constructor(i,n){this.fb=i;this.fetrService=n;this.dataForm=this.fb.group({nombre:new D("",[k.required]),fuente:new D("",[k.required]),unidad:new D("",[k.required]),valor:new D("",[k.required]),residuoId:new D("")})}data=null;onCloseModal=new E;resiId=null;dataForm;toastr=f(v);ngOnChanges(i){i.resiId&&this.resiId&&console.log(this.resiId),this.data&&this.dataForm.patchValue({nombre:this.data.nombre,fuente:this.data.fuente,unidad:this.data.unidad,valor:this.data.valor,residuoId:this.data.residuoId})}onSubmit(){this.dataForm.valid?this.data?this.fetrService.actualizaFacEmiTipoResiduo(this.data.id,this.dataForm.value).subscribe({next:i=>{this.resetdataForm(),this.toastr.success("Factor Emi. Tipo Residuo actualizado!"),this.data=null}}):(this.dataForm.patchValue({residuoId:this.resiId}),this.fetrService.crearFacEmiTipoResiduo(this.dataForm.value).subscribe({next:i=>{this.resetdataForm(),this.toastr.success("Factor emision TipoResiduo registrado!")}})):this.dataForm.markAllAsTouched()}onClose(){this.onCloseModal.emit(!1),this.dataForm.reset()}resetdataForm(){this.dataForm.reset(),this.onClose()}static \u0275fac=function(n){return new(n||o)(j(J),j(Se))};static \u0275cmp=_({type:o,selectors:[["app-fac-emi-tipo-residuo-create"]],inputs:{data:"data",resiId:"resiId"},outputs:{onCloseModal:"onCloseModal"},standalone:!0,features:[F,C],decls:29,vars:17,consts:[[1,"mb-5","text-lg","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"w-full",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-1","gap-4","mb-4"],[1,"relative","mt-1","flex","items-center"],["type","text","name","nombre","id","nombre","placeholder","nombre","formControlName","nombre","autocomplete","NA",1,"peer","mt-1","w-96","border-b-2","border-gray-300","px-2","py-1.5","bg-gray-100","placeholder:text-transparent","focus:border-gray-500","focus:outline-none","focus:bg-white","rounded-md","text-sm",3,"ngClass"],["for","nombre",1,"pointer-events-none","absolute","top-0","left-0","origin-left","-translate-y-1/2","transform","text-sm","text-gray-800","opacity-75","transition-all","duration-100","ease-in-out","peer-placeholder-shown:top-1/2","peer-placeholder-shown:text-base","peer-placeholder-shown:text-gray-500","peer-focus:top-0","peer-focus:pl-0","peer-focus:text-sm","peer-focus:text-gray-800"],["class","absolute -right-4 text-red-500",4,"ngIf"],["type","text","name","fuente","id","fuente","placeholder","nombre","formControlName","fuente","autocomplete","NA",1,"peer","mt-1","w-full","border-b-2","border-gray-300","px-2","py-1.5","bg-gray-100","placeholder:text-transparent","focus:border-gray-500","focus:outline-none","focus:bg-white","rounded-md","text-sm",3,"ngClass"],["for","fuente",1,"pointer-events-none","absolute","top-0","left-0","origin-left","-translate-y-1/2","transform","text-sm","text-gray-800","opacity-75","transition-all","duration-100","ease-in-out","peer-placeholder-shown:top-1/2","peer-placeholder-shown:text-base","peer-placeholder-shown:text-gray-500","peer-focus:top-0","peer-focus:pl-0","peer-focus:text-sm","peer-focus:text-gray-800"],["type","text","name","unidad","id","unidad","placeholder","nombre","formControlName","unidad","autocomplete","NA",1,"peer","mt-1","w-full","border-b-2","border-gray-300","px-2","py-1.5","bg-gray-100","placeholder:text-transparent","focus:border-gray-500","focus:outline-none","focus:bg-white","rounded-md","text-sm",3,"ngClass"],["type","number","name","valor","id","valor","placeholder","valor","formControlName","valor","autocomplete","NA","step","0.01",1,"peer","mt-1","w-96","border-b-2","border-gray-300","px-2","py-1.5","bg-gray-100","placeholder:text-transparent","focus:border-gray-500","focus:outline-none","focus:bg-white","rounded-md","text-sm",3,"ngClass"],["for","valor",1,"pointer-events-none","absolute","top-0","left-0","origin-left","-translate-y-1/2","transform","text-sm","text-gray-800","opacity-75","transition-all","duration-100","ease-in-out","peer-placeholder-shown:top-1/2","peer-placeholder-shown:text-base","peer-placeholder-shown:text-gray-500","peer-focus:top-0","peer-focus:pl-0","peer-focus:text-sm","peer-focus:text-gray-800"],[1,"my-5"],["type","submit",1,"text-white","bg-blue-600","hover:bg-blue-700","font-medium","rounded-lg","w-full","sm:w-auto","px-5","py-2.5","text-center"],["type","button",1,"text-white","ms-2","bg-gray-700","hover:bg-gray-800","font-medium","rounded-lg","w-full","sm:w-auto","px-5","py-2.5","text-center",3,"click"],[1,"absolute","-right-4","text-red-500"]],template:function(n,t){if(n&1&&(e(0,"h5",0),l(1,"Ingresar Factor Emision de Tipo Residuo"),a(),e(2,"form",1),u("ngSubmit",function(){return t.onSubmit()}),e(3,"div",2)(4,"div",3),p(5,"input",4),e(6,"label",5),l(7,"Nombre"),a(),c(8,ze,2,0,"div",6),a(),e(9,"div",3),p(10,"input",7),e(11,"label",8),l(12,"Fuente"),a(),c(13,Ae,2,0,"div",6),a(),e(14,"div",3),p(15,"input",9),e(16,"label",8),l(17,"Unidad"),a(),c(18,Pe,2,0,"div",6),a(),e(19,"div",3),p(20,"input",10),e(21,"label",11),l(22,"Valor"),a(),c(23,Be,2,0,"div",6),a()(),e(24,"div",12)(25,"button",13),l(26,"Submit"),a(),e(27,"button",14),u("click",function(){return t.onClose()}),l(28,"Cancel"),a()()()),n&2){let r,d,ge,he,be,_e,Ce,ve;s(2),m("formGroup",t.dataForm),s(3),m("ngClass",q(9,Te,((r=t.dataForm.get("nombre"))==null?null:r.hasError("required"))&&((r=t.dataForm.get("nombre"))==null?null:r.touched))),s(3),m("ngIf",((d=t.dataForm.get("nombre"))==null?null:d.hasError("required"))&&((d=t.dataForm.get("nombre"))==null?null:d.touched)),s(2),m("ngClass",q(11,Te,((ge=t.dataForm.get("fuente"))==null?null:ge.hasError("required"))&&((ge=t.dataForm.get("fuente"))==null?null:ge.touched))),s(3),m("ngIf",((he=t.dataForm.get("fuente"))==null?null:he.hasError("required"))&&((he=t.dataForm.get("fuente"))==null?null:he.touched)),s(2),m("ngClass",q(13,Te,((be=t.dataForm.get("unidad"))==null?null:be.hasError("required"))&&((be=t.dataForm.get("unidad"))==null?null:be.touched))),s(3),m("ngIf",((_e=t.dataForm.get("unidad"))==null?null:_e.hasError("required"))&&((_e=t.dataForm.get("unidad"))==null?null:_e.touched)),s(2),m("ngClass",q(15,Te,((Ce=t.dataForm.get("valor"))==null?null:Ce.hasError("required"))&&((Ce=t.dataForm.get("valor"))==null?null:Ce.touched))),s(3),m("ngIf",((ve=t.dataForm.get("valor"))==null?null:ve.hasError("required"))&&((ve=t.dataForm.get("valor"))==null?null:ve.touched))}},dependencies:[Q,P,B,K,$,T,Ne,I,W,U,Z]})};var We=()=>[5,10,25,100];function $e(o,i){o&1&&(e(0,"th",25),l(1," Id "),a())}function Ue(o,i){if(o&1&&(e(0,"td",26),l(1),a()),o&2){let n=i.$implicit;s(),b(" ",n.id," ")}}function Ze(o,i){o&1&&(e(0,"th",25),l(1," Nombre "),a())}function Je(o,i){if(o&1&&(e(0,"td",26),l(1),a()),o&2){let n=i.$implicit;s(),b(" ",n.nombre," ")}}function Ke(o,i){o&1&&(e(0,"th",25),l(1," Fuente "),a())}function Xe(o,i){if(o&1&&(e(0,"td",26),l(1),a()),o&2){let n=i.$implicit;s(),b(" ",n.fuente," ")}}function Ye(o,i){o&1&&(e(0,"th",25),l(1," Valor "),a())}function et(o,i){if(o&1&&(e(0,"td",26),l(1),a()),o&2){let n=i.$implicit;s(),b(" ",n.valor," ")}}function tt(o,i){o&1&&(e(0,"th",25),l(1," Opciones "),a())}function it(o,i){if(o&1){let n=N();e(0,"td",26)(1,"div",27)(2,"div",28)(3,"button",29),u("click",function(){let r=R(n).$implicit,d=w();return y(d.loadFacEmiTipoResiduo(r))}),e(4,"i",30),x(),e(5,"svg",31),p(6,"path",32),a(),S(),e(7,"span",33),l(8," Editar "),a()()()(),e(9,"div",28)(10,"button",34),u("click",function(){let r=R(n).$implicit,d=w();return y(d.deleteFacEmiTipoResiduo(r.id))}),e(11,"i",35),x(),e(12,"svg",36),p(13,"path",37)(14,"line",38)(15,"line",39)(16,"line",40)(17,"path",41)(18,"path",42),a(),S(),e(19,"span",33),l(20," Eliminar "),a()()()()()()}}function ot(o,i){o&1&&p(0,"tr",43)}function at(o,i){o&1&&p(0,"tr",44)}var je=class o{onCloseFacEmiTipRes=new E;residuoId=null;clase=null;fetrServices=f(Se);isModalOpen=!1;FacEmiTipoResiduo;selectedResiduoId=null;toastr=f(v);dataSource=new me([]);displayedColumns=["id","nombre","fuente","valor","actions"];paginator;filterId="";filterNombre="";ngOnInit(){}ngOnChanges(i){i.residuoId&&this.residuoId&&(console.log(this.residuoId),this.selectedResiduoId=this.residuoId,this.getFactEmiTipoResiduo(this.residuoId))}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getFactEmiTipoResiduo(i){i&&this.fetrServices.getFacEmiTipoResiduo(i).subscribe({next:n=>{this.dataSource.data=n,this.applyFilter(),console.log("Datos cargadas:",n)},error:n=>{console.error("Error al cargar datos:",n)}})}openModal(){this.isModalOpen=!0}loadFacEmiTipoResiduo(i){console.log(i),this.FacEmiTipoResiduo=i,this.openModal()}applyFilter(){this.dataSource.filterPredicate=(i,n)=>{let[t,r]=n.trim().split(";");return(t?i.id.toString().toLowerCase().includes(t):!0)&&(r?i.nombre.toLowerCase().includes(r):!0)},this.dataSource.filter=[this.filterId.toLowerCase(),this.filterNombre.toLowerCase()].join(";")}closeModal(){this.isModalOpen=!1,this.getFactEmiTipoResiduo(this.residuoId)}deleteFacEmiTipoResiduo(i){this.fetrServices.eliminaFacEmiTipoResiduo(i).subscribe({next:()=>{this.toastr.success(" Eliminado!"),this.getFactEmiTipoResiduo(this.residuoId)}})}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=_({type:o,selectors:[["app-fac-emi-tipo-residuo"]],viewQuery:function(n,t){if(n&1&&O(M,5),n&2){let r;V(r=H())&&(t.paginator=r.first)}},inputs:{residuoId:"residuoId",clase:"clase"},outputs:{onCloseFacEmiTipRes:"onCloseFacEmiTipRes"},standalone:!0,features:[F,C],decls:35,vars:11,consts:[[1,"mx-auto","sm:px-6","lg:px-8","mb-6"],[1,"mx-4","pb-6","text-3xl","font-bold","text-gray-800"],[1,"border-t-4","border-t-indigo-500","-mt-4","ml-5","w-36"],[1,"bg-white","overflow-hidden","shadow-xl","sm:rounded-lg","px-4","py-4","dark:bg-gray-800/50","dark:bg-gradient-to-bl"],[1,"flex","items-center","justify-between","dark:text-gray-400","mb-4"],[1,"space-x-8"],["type","button",1,"focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","mt-4","sm:mt-0","inline-flex","items-start","justify-start","px-6","py-3","bg-blue-600","hover:bg-blue-800","focus:outline-none","rounded",3,"click"],[1,"text-sm","font-medium","leading-none","text-white"],[1,"flex","space-x-4"],["matInput","","placeholder","Filtro por ID",3,"ngModelChange","ngModel"],["matInput","","placeholder","Filtro por Nombre",3,"ngModelChange","ngModel"],[1,"shadow","overflow-hidden","border-b","border-gray-200","sm:rounded-lg"],["mat-table","",1,"no-border-table","w-3/4","divide-y","divide-gray-200","table-auto",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","fuente"],["matColumnDef","valor"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"closeModal","isOpen"],[3,"onCloseModal","data","resiId"],["mat-header-cell",""],["mat-cell",""],[1,"flex","items-center","space-x-2"],[1,"group","relative"],[1,"bg-gray-700","w-8","h-8","rounded-full","hover:bg-gray-400","flex","items-center","justify-center",3,"click"],[1,"fas","fa-edit","text-white"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-white-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["role","tooltip",1,"pointer-events-none","absolute","z-50","inline-flex","items-center","justify-center","rounded-md","px-3","py-1","font-semibold","opacity-0","transition-opacity","duration-300","ease-in-out","group-hover:opacity-100","bg-stone-50","text-stone-700","min-h-7","text-sm","left-1/2","-translate-x-1/2","after:absolute","after:block","after:size-0","after:border-8","after:border-transparent","after:border-t-stone-50","after:-bottom-[0.95rem]","after:left-1/2","after:-translate-x-1/2","top-[-2.5rem]"],[1,"bg-red-600","w-8","h-8","rounded-full","hover:bg-red-400","flex","items-center","justify-center",3,"click"],[1,"text-white"],["width","4","height","4","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"h-5","w-5","text-white-500"],["stroke","none","d","M0 0h24v24H0z"],["x1","4","y1","7","x2","20","y2","7"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["d","M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"],["d","M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"],["mat-header-row",""],["mat-row",""]],template:function(n,t){n&1&&(e(0,"div",0)(1,"h2",1),l(2),a(),p(3,"div",2),a(),e(4,"div",3)(5,"div",4)(6,"div",5)(7,"button",6),u("click",function(){return t.openModal()}),e(8,"p",7),l(9,"Add Tipo Residuo"),a()()()(),e(10,"div",8)(11,"input",9),z("ngModelChange",function(d){return G(t.filterId,d)||(t.filterId=d),d}),u("ngModelChange",function(){return t.applyFilter()}),a(),e(12,"input",10),z("ngModelChange",function(d){return G(t.filterNombre,d)||(t.filterNombre=d),d}),u("ngModelChange",function(){return t.applyFilter()}),a()(),e(13,"div",11)(14,"table",12),g(15,13),c(16,$e,2,0,"th",14)(17,Ue,2,1,"td",15),h(),g(18,16),c(19,Ze,2,0,"th",14)(20,Je,2,1,"td",15),h(),g(21,17),c(22,Ke,2,0,"th",14)(23,Xe,2,1,"td",15),h(),g(24,18),c(25,Ye,2,0,"th",14)(26,et,2,1,"td",15),h(),g(27,19),c(28,tt,2,0,"th",14)(29,it,21,0,"td",15),h(),c(30,ot,1,0,"tr",20)(31,at,1,0,"tr",21),a(),p(32,"mat-paginator",22),a()(),e(33,"app-modal",23),u("closeModal",function(){return t.closeModal()}),e(34,"app-fac-emi-tipo-residuo-create",24),u("onCloseModal",function(){return t.closeModal()}),a()()),n&2&&(s(2),b(" Residuo Clase (",t.clase,") "),s(9),L("ngModel",t.filterId),s(),L("ngModel",t.filterNombre),s(2),m("dataSource",t.dataSource),s(16),m("matHeaderRowDef",t.displayedColumns),s(),m("matRowDefColumns",t.displayedColumns),s(),m("pageSizeOptions",A(10,We)),s(),m("isOpen",t.isModalOpen),s(),m("data",t.FacEmiTipoResiduo)("resiId",t.selectedResiduoId))},dependencies:[X,Ie,ue,M,de,Y,te,ne,ie,ee,re,oe,ae,le,se,pe,ye,Re,T,I,Me]})};var nt=o=>({"border-red-500":o});function rt(o,i){o&1&&(e(0,"div",10),l(1," * "),a())}var qe=class o{constructor(i,n){this.fb=i;this.maqReciclajeService=n;this.dataForm=this.fb.group({nombre:new D("",[k.required]),residuoId:new D("")})}data=null;onCloseModal=new E;resiId=null;dataForm;toastr=f(v);ngOnChanges(i){i.resiId&&this.resiId&&console.log(this.resiId),this.data&&this.dataForm.patchValue({nombre:this.data.nombre,residuoId:this.data.residuoId})}onSubmit(){this.dataForm.patchValue({residuoId:this.resiId}),this.dataForm.valid?this.data?this.maqReciclajeService.actualizaMaquinariaReciclaje(this.data.id,this.dataForm.value).subscribe({next:i=>{this.resetdataForm(),this.toastr.success("Factor Emi. Tipo Residuo actualizado!"),this.data=null}}):this.maqReciclajeService.crearMaquinariaReciclaje(this.dataForm.value).subscribe({next:i=>{this.resetdataForm(),this.toastr.success("Maquinaria de Reciclaje registrado!")}}):this.dataForm.markAllAsTouched()}onClose(){this.onCloseModal.emit(!1),this.dataForm.reset()}resetdataForm(){this.dataForm.reset(),this.onClose()}static \u0275fac=function(n){return new(n||o)(j(J),j(we))};static \u0275cmp=_({type:o,selectors:[["app-maquinaria-reciclaje-create"]],inputs:{data:"data",resiId:"resiId"},outputs:{onCloseModal:"onCloseModal"},standalone:!0,features:[F,C],decls:14,vars:5,consts:[[1,"mb-5","text-lg","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"w-full",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-1","gap-4","mb-4"],[1,"relative","mt-6","flex","items-center"],["type","text","name","nombre","id","nombre","placeholder","nombre","formControlName","nombre","autocomplete","NA",1,"peer","mt-1","w-96","border-b-2","border-gray-300","px-2","py-1.5","bg-gray-100","placeholder:text-transparent","focus:border-gray-500","focus:outline-none","focus:bg-white","rounded-md","text-sm",3,"ngClass"],["for","nombre",1,"pointer-events-none","absolute","top-0","left-0","origin-left","-translate-y-1/2","transform","text-sm","text-gray-800","opacity-75","transition-all","duration-100","ease-in-out","peer-placeholder-shown:top-1/2","peer-placeholder-shown:text-base","peer-placeholder-shown:text-gray-500","peer-focus:top-0","peer-focus:pl-0","peer-focus:text-sm","peer-focus:text-gray-800"],["class","absolute -right-4 text-red-500",4,"ngIf"],[1,"my-5"],["type","submit",1,"text-white","bg-blue-600","hover:bg-blue-700","font-medium","rounded-lg","w-full","sm:w-auto","px-5","py-2.5","text-center"],["type","button",1,"text-white","ms-2","bg-gray-700","hover:bg-gray-800","font-medium","rounded-lg","w-full","sm:w-auto","px-5","py-2.5","text-center",3,"click"],[1,"absolute","-right-4","text-red-500"]],template:function(n,t){if(n&1&&(e(0,"h5",0),l(1,"Ingresar datos Maquina de Reciclaje"),a(),e(2,"form",1),u("ngSubmit",function(){return t.onSubmit()}),e(3,"div",2)(4,"div",3),p(5,"input",4),e(6,"label",5),l(7,"Nombre"),a(),c(8,rt,2,0,"div",6),a()(),e(9,"div",7)(10,"button",8),l(11,"Submit"),a(),e(12,"button",9),u("click",function(){return t.onClose()}),l(13,"Cancel"),a()()()),n&2){let r,d;s(2),m("formGroup",t.dataForm),s(3),m("ngClass",q(3,nt,((r=t.dataForm.get("nombre"))==null?null:r.hasError("required"))&&((r=t.dataForm.get("nombre"))==null?null:r.touched))),s(3),m("ngIf",((d=t.dataForm.get("nombre"))==null?null:d.hasError("required"))&&((d=t.dataForm.get("nombre"))==null?null:d.touched))}},dependencies:[K,$,T,I,W,U,Z,Q,P,B]})};var lt=()=>[5,10,25,100];function st(o,i){o&1&&(e(0,"th",23),l(1," Id "),a())}function dt(o,i){if(o&1&&(e(0,"td",24),l(1),a()),o&2){let n=i.$implicit;s(),b(" ",n.id," ")}}function mt(o,i){o&1&&(e(0,"th",23),l(1," Nombre de maquina "),a())}function ut(o,i){if(o&1&&(e(0,"td",24),l(1),a()),o&2){let n=i.$implicit;s(),b(" ",n.nombre," ")}}function pt(o,i){o&1&&(e(0,"th",23),l(1," Opciones "),a())}function ct(o,i){if(o&1){let n=N();e(0,"td",24)(1,"div",25)(2,"div",26)(3,"button",27),u("click",function(){let r=R(n).$implicit,d=w();return y(d.loadMaquinaReciclaje(r))}),e(4,"i",28),x(),e(5,"svg",29),p(6,"path",30),a(),S(),e(7,"span",31),l(8," Editar "),a()()()(),e(9,"div",26)(10,"button",32),u("click",function(){let r=R(n).$implicit,d=w();return y(d.deleteMaquinaReciclaje(r.id))}),e(11,"i",33),x(),e(12,"svg",34),p(13,"path",35)(14,"line",36)(15,"line",37)(16,"line",38)(17,"path",39)(18,"path",40),a(),S(),e(19,"span",31),l(20," Eliminar "),a()()()()()()}}function ft(o,i){o&1&&p(0,"tr",41)}function gt(o,i){o&1&&p(0,"tr",42)}var ke=class o{onCloseMaqReciclaje=new E;residuoId=null;clase=null;maquinariaReciclaje;maquinaReciclajeiServices=f(we);toastr=f(v);isModalOpen=!1;selectedResiduoId=null;dataSource=new me([]);displayedColumns=["id","nombre","actions"];paginator;filterId="";filterNombre="";ngOnChanges(i){i.residuoId&&this.residuoId&&(console.log(this.residuoId),this.selectedResiduoId=this.residuoId,this.getMaquinaReciclaje(this.residuoId))}getMaquinaReciclaje(i){i&&this.maquinaReciclajeiServices.getMaquinariaReciclaje(i).subscribe({next:n=>{this.dataSource.data=n,this.applyFilter(),console.log("Datos cargadas:",n)},error:n=>{console.error("Error al cargar datos:",n)}})}ngAfterViewInit(){this.dataSource.paginator=this.paginator}applyFilter(){this.dataSource.filterPredicate=(i,n)=>{let[t,r]=n.trim().split(";");return(t?i.id.toString().toLowerCase().includes(t):!0)&&(r?i.nombre.toLowerCase().includes(r):!0)},this.dataSource.filter=[this.filterId.toLowerCase(),this.filterNombre.toLowerCase()].join(";")}loadMaquinaReciclaje(i){console.log(i),this.maquinariaReciclaje=i,this.openModal()}deleteMaquinaReciclaje(i){this.maquinaReciclajeiServices.eliminaMaquinariaReciclaje(i).subscribe({next:()=>{this.toastr.success(" Eliminado!"),this.getMaquinaReciclaje(this.residuoId)}})}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.getMaquinaReciclaje(this.residuoId)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=_({type:o,selectors:[["app-maquinaria-reciclaje"]],viewQuery:function(n,t){if(n&1&&O(M,5),n&2){let r;V(r=H())&&(t.paginator=r.first)}},inputs:{residuoId:"residuoId",clase:"clase"},outputs:{onCloseMaqReciclaje:"onCloseMaqReciclaje"},standalone:!0,features:[F,C],decls:29,vars:11,consts:[[1,"mx-auto","sm:px-6","lg:px-8","mb-6"],[1,"mx-4","pb-6","text-3xl","font-bold","text-gray-800"],[1,"border-t-4","border-t-indigo-500","-mt-4","ml-5","w-36"],[1,"bg-white","overflow-hidden","shadow-xl","sm:rounded-lg","px-4","py-4","dark:bg-gray-800/50","dark:bg-gradient-to-bl"],[1,"flex","items-center","justify-between","dark:text-gray-400","mb-4"],[1,"space-x-8"],["type","button",1,"focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","mt-4","sm:mt-0","inline-flex","items-start","justify-start","px-6","py-3","bg-blue-600","hover:bg-blue-800","focus:outline-none","rounded",3,"click"],[1,"text-sm","font-medium","leading-none","text-white"],[1,"flex","space-x-4"],["matInput","","placeholder","Filtro por ID",3,"ngModelChange","ngModel"],["matInput","","placeholder","Filtro por Nombre",3,"ngModelChange","ngModel"],[1,"shadow","overflow-hidden","border-b","border-gray-200","sm:rounded-lg"],["mat-table","",1,"no-border-table","w-3/4","divide-y","divide-gray-200","table-auto",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"closeModal","isOpen"],[3,"onCloseModal","data","resiId"],["mat-header-cell",""],["mat-cell",""],[1,"flex","items-center","space-x-2"],[1,"group","relative"],[1,"bg-gray-700","w-8","h-8","rounded-full","hover:bg-gray-400","flex","items-center","justify-center",3,"click"],[1,"fas","fa-edit","text-white"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-white-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["role","tooltip",1,"pointer-events-none","absolute","z-50","inline-flex","items-center","justify-center","rounded-md","px-3","py-1","font-semibold","opacity-0","transition-opacity","duration-300","ease-in-out","group-hover:opacity-100","bg-stone-50","text-stone-700","min-h-7","text-sm","left-1/2","-translate-x-1/2","after:absolute","after:block","after:size-0","after:border-8","after:border-transparent","after:border-t-stone-50","after:-bottom-[0.95rem]","after:left-1/2","after:-translate-x-1/2","top-[-2.5rem]"],[1,"bg-red-600","w-8","h-8","rounded-full","hover:bg-red-400","flex","items-center","justify-center",3,"click"],[1,"text-white"],["width","4","height","4","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"h-5","w-5","text-white-500"],["stroke","none","d","M0 0h24v24H0z"],["x1","4","y1","7","x2","20","y2","7"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["d","M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"],["d","M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"],["mat-header-row",""],["mat-row",""]],template:function(n,t){n&1&&(e(0,"div",0)(1,"h2",1),l(2),a(),p(3,"div",2),e(4,"div",3)(5,"div",4)(6,"div",5)(7,"button",6),u("click",function(){return t.openModal()}),e(8,"p",7),l(9,"Add Tipo Residuo"),a()()()(),e(10,"div",8)(11,"input",9),z("ngModelChange",function(d){return G(t.filterId,d)||(t.filterId=d),d}),u("ngModelChange",function(){return t.applyFilter()}),a(),e(12,"input",10),z("ngModelChange",function(d){return G(t.filterNombre,d)||(t.filterNombre=d),d}),u("ngModelChange",function(){return t.applyFilter()}),a()(),e(13,"div",11)(14,"table",12),g(15,13),c(16,st,2,0,"th",14)(17,dt,2,1,"td",15),h(),g(18,16),c(19,mt,2,0,"th",14)(20,ut,2,1,"td",15),h(),g(21,17),c(22,pt,2,0,"th",14)(23,ct,21,0,"td",15),h(),c(24,ft,1,0,"tr",18)(25,gt,1,0,"tr",19),a(),p(26,"mat-paginator",20),a()()(),e(27,"app-modal",21),u("closeModal",function(){return t.closeModal()}),e(28,"app-maquinaria-reciclaje-create",22),u("onCloseModal",function(){return t.closeModal()}),a()()),n&2&&(s(2),b(" Maquinaria para Reciclaje (",t.clase,") "),s(9),L("ngModel",t.filterId),s(),L("ngModel",t.filterNombre),s(2),m("dataSource",t.dataSource),s(10),m("matHeaderRowDef",t.displayedColumns),s(),m("matRowDefColumns",t.displayedColumns),s(),m("pageSizeOptions",A(10,lt)),s(),m("isOpen",t.isModalOpen),s(),m("data",t.maquinariaReciclaje)("resiId",t.selectedResiduoId))},dependencies:[X,qe,Re,T,I,Me,ue,M,de,Y,te,ne,ie,ee,re,oe,ae,le,se,pe,ye]})};var ht=()=>[5,10,25,100];function bt(o,i){o&1&&(e(0,"th",23),l(1," Id "),a())}function _t(o,i){if(o&1&&(e(0,"td",24),l(1),a()),o&2){let n=i.$implicit;s(),b(" ",n.id," ")}}function Ct(o,i){o&1&&(e(0,"th",23),l(1," Clase de Residuo "),a())}function vt(o,i){if(o&1&&(e(0,"td",24),l(1),a()),o&2){let n=i.$implicit;s(),b(" ",n.clase," ")}}function Mt(o,i){o&1&&(e(0,"th",23),l(1," Opciones "),a())}function Rt(o,i){if(o&1){let n=N();e(0,"td",24)(1,"div",25)(2,"div",26)(3,"button",27),u("click",function(){let r=R(n).$implicit,d=w();return y(d.loadResiduo(r))}),e(4,"i",28),x(),e(5,"svg",29),p(6,"path",30),a()()(),S(),e(7,"span",31),l(8," Editar "),a()(),e(9,"div",26)(10,"button",32),u("click",function(){let r=R(n).$implicit,d=w();return y(d.deleteResiduo(r.id))}),e(11,"i",33),x(),e(12,"svg",34),p(13,"path",35)(14,"line",36)(15,"line",37)(16,"line",38)(17,"path",39)(18,"path",40),a()()(),S(),e(19,"span",31),l(20," Eliminar "),a()(),e(21,"div",26)(22,"button",41),u("click",function(){let r=R(n).$implicit,d=w();return y(d.openModalFacEmiTipoRes(r.id,r.clase))}),e(23,"i",33),x(),e(24,"svg",42),p(25,"path",43),a()()(),S(),e(26,"span",31),l(27," Facttor de Emision Tipo Reiduo "),a()(),e(28,"div",26)(29,"button",41),u("click",function(){let r=R(n).$implicit,d=w();return y(d.openModalMaqReciclaje(r.id,r.clase))}),e(30,"i",33),x(),e(31,"svg",42),p(32,"path",43),a()()(),S(),e(33,"span",31),l(34," Maquinaria Reciclaje "),a()()()()}}function yt(o,i){o&1&&p(0,"tr",44)}function xt(o,i){o&1&&p(0,"tr",45)}var De=class o{Residuo;isModalOpen=!1;dataSource=new me([]);displayedColumns=["id","clase","actions"];paginator;resService=f(xe);toastr=f(v);isModalFacEmiTipResOpen=!1;isModalMaqReciOpen=!1;selectedResiduoId=null;selectedClase=null;ngOnInit(){this.getResiduo()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getResiduo(){this.resService.getResiduo().subscribe({next:i=>{this.dataSource.data=i},error:()=>{this.toastr.error("Error al cargar los datos")}})}loadResiduo(i){this.Residuo=i,this.openModal()}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.getResiduo()}deleteResiduo(i){this.resService.eliminaResiduo(i).subscribe({next:()=>{this.toastr.success("Clase de residuo Eliminada"),this.getResiduo()}})}openModalFacEmiTipoRes(i,n){this.selectedResiduoId=i,this.selectedClase=n,this.isModalFacEmiTipResOpen=!0}closeModalFacEmiTipoRes(){this.isModalFacEmiTipResOpen=!1,this.getResiduo()}openModalMaqReciclaje(i,n){this.selectedResiduoId=i,this.selectedClase=n,this.isModalMaqReciOpen=!0}closeModalMaqReciclaje(){this.isModalMaqReciOpen=!1,this.getResiduo()}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=_({type:o,selectors:[["app-residuo"]],viewQuery:function(n,t){if(n&1&&O(M,5),n&2){let r;V(r=H())&&(t.paginator=r.first)}},standalone:!0,features:[C],decls:32,vars:13,consts:[[1,"mx-auto","sm:px-6","lg:px-8","mb-6"],[1,"mx-4","pb-6","text-3xl","font-bold","text-gray-800"],[1,"border-t-4","border-t-indigo-500","-mt-4","ml-5","w-36"],[1,"mx-auto","sm:px-6","lg:px-8"],[1,"bg-white","overflow-hidden","shadow-xl","sm:rounded-lg","px-4","py-4","dark:bg-gray-800/50","dark:bg-gradient-to-bl"],[1,"flex","items-center","justify-between","dark:text-gray-400","mb-4"],[1,"space-x-8"],["type","button",1,"focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","mt-4","sm:mt-0","inline-flex","items-start","justify-start","px-6","py-3","bg-blue-600","hover:bg-blue-800","focus:outline-none","rounded",3,"click"],[1,"text-sm","font-medium","leading-none","text-white"],[1,"shadow","overflow-hidden","border-b","border-gray-200","sm:rounded-lg"],["mat-table","",1,"no-border-table","w-full","divide-y","divide-gray-200","table-auto",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","clase"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"closeModal","isOpen"],[3,"onCloseModal","data"],[3,"onCloseFacEmiTipRes","residuoId","clase"],[3,"onCloseMaqReciclaje","residuoId","clase"],["mat-header-cell",""],["mat-cell",""],[1,"flex","items-center","space-x-2"],[1,"relative","group"],[1,"bg-gray-700","w-8","h-8","rounded-full","hover:bg-gray-400","flex","items-center","justify-center",3,"click"],[1,"fas","fa-edit","text-white"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-white-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["role","tooltip",1,"pointer-events-none","absolute","z-50","inline-flex","items-center","justify-center","rounded-md","px-3","py-1","font-semibold","opacity-0","transition-opacity","duration-300","ease-in-out","group-hover:opacity-100","bg-stone-50","text-stone-700","min-h-7","text-sm","left-1/2","-translate-x-1/2","after:absolute","after:block","after:size-0","after:border-8","after:border-transparent","after:border-t-stone-50","after:-bottom-[0.95rem]","after:left-1/2","after:-translate-x-1/2","top-[-2.5rem]"],[1,"bg-red-600","w-8","h-8","rounded-full","hover:bg-red-400","flex","items-center","justify-center",3,"click"],[1,"text-white"],["width","4","height","4","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"h-5","w-5","text-white-500"],["stroke","none","d","M0 0h24v24H0z"],["x1","4","y1","7","x2","20","y2","7"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["d","M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"],["d","M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"],[1,"bg-gray-700","w-8","h-8","rounded-full","hover:bg-gray-500","flex","items-center","justify-center","ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5"],["stroke-linecap","round","stroke-linejoin","round","d","m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m8.25 3v6.75m0 0-3-3m3 3 3-3M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"],["mat-header-row",""],["mat-row",""]],template:function(n,t){n&1&&(e(0,"div")(1,"div",0)(2,"h2",1),l(3," Residuos "),a(),p(4,"div",2),a(),e(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"button",7),u("click",function(){return t.openModal()}),e(10,"p",8),l(11,"Add Residuo"),a()()()(),e(12,"div",9)(13,"table",10),g(14,11),c(15,bt,2,0,"th",12)(16,_t,2,1,"td",13),h(),g(17,14),c(18,Ct,2,0,"th",12)(19,vt,2,1,"td",13),h(),g(20,15),c(21,Mt,2,0,"th",12)(22,Rt,35,0,"td",13),h(),c(23,yt,1,0,"tr",16)(24,xt,1,0,"tr",17),a(),p(25,"mat-paginator",18),a()()()(),e(26,"app-modal",19),u("closeModal",function(){return t.closeModal()}),e(27,"app-residuo-create",20),u("onCloseModal",function(){return t.closeModal()}),a()(),e(28,"app-modal",19),u("closeModal",function(){return t.closeModalFacEmiTipoRes()}),e(29,"app-fac-emi-tipo-residuo",21),u("onCloseFacEmiTipRes",function(){return t.closeModalFacEmiTipoRes()}),a()(),e(30,"app-modal",19),u("closeModal",function(){return t.closeModalMaqReciclaje()}),e(31,"app-maquinaria-reciclaje",22),u("onCloseMaqReciclaje",function(){return t.closeModalMaqReciclaje()}),a()()),n&2&&(s(13),m("dataSource",t.dataSource),s(10),m("matHeaderRowDef",t.displayedColumns),s(),m("matRowDefColumns",t.displayedColumns),s(),m("pageSizeOptions",A(12,ht)),s(),m("isOpen",t.isModalOpen),s(),m("data",t.Residuo),s(),m("isOpen",t.isModalFacEmiTipResOpen),s(),m("residuoId",t.selectedResiduoId)("clase",t.selectedClase),s(),m("isOpen",t.isModalMaqReciOpen),s(),m("residuoId",t.selectedResiduoId)("clase",t.selectedClase))},dependencies:[Fe,X,ue,M,de,Y,te,ne,ie,ee,re,oe,ae,le,se,pe,je,ke]})};export{De as default};
