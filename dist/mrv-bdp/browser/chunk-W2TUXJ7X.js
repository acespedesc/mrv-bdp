import{a as k}from"./chunk-RWZV4OPL.js";import{a as de,b as me,c as se,d as ce,e as pe,f as ue,g as fe,h as Ce,i as ge,j as he,k as _e,l as be,n as D,o as ve,p as ye,q as Me}from"./chunk-XBSZIRZA.js";import{a as le}from"./chunk-IXGIIPBD.js";import{b as F,c as j,e as T,f as $,h as B,i as ee,j as te,m as ie,p as ne,t as ae,u as oe,v as re,x as I}from"./chunk-B4EPVZF2.js";import"./chunk-IX6G3U3V.js";import{f as E}from"./chunk-35W2KPSY.js";import"./chunk-OGI2M7DR.js";import{k as Y,m as Z,p as S}from"./chunk-6XSUGG7T.js";import{$ as f,$b as w,Ab as u,Bb as C,Cb as g,Eb as Q,Jb as c,Kb as L,Ob as J,Pb as K,Qb as U,Ub as d,Va as m,Wa as H,Wb as v,Xb as y,Yb as M,Zb as x,ac as X,bc as R,da as b,gb as z,la as G,ma as O,mb as p,na as A,oa as P,ob as s,pa as V,ua as q,yb as i,zb as a}from"./chunk-XFA5AQSA.js";import"./chunk-TSRGIXR5.js";var xe=n=>({"border-red-500":n});function Fe(n,t){n&1&&(i(0,"div",11),d(1," * "),a())}function Te(n,t){n&1&&(i(0,"div",11),d(1," * "),a())}var N=class n{constructor(t,o){this.fb=t;this.caedecService=o;this.dataForm=this.fb.group({nombre:new B("",[j.required]),actividad:new B("",[j.required])})}data=null;onCloseModal=new q;toastr=f(I);dataForm;autoExpand(t){let o=t.target;o.style.height=`${o.scrollHeight}px`}ngOnChanges(){this.data&&this.dataForm.patchValue({nombre:this.data.nombre,actividad:this.data.actividad})}onSubmit(){this.dataForm.valid?this.data?this.caedecService.actualizaCaedec(this.data.id,this.dataForm.value).subscribe({next:t=>{this.resetdataForm(),this.toastr.success("Caedec Modificado con exito!"),this.data=null}}):this.caedecService.crearCaedec(this.dataForm.value).subscribe({next:t=>{this.resetdataForm(),this.toastr.success("Caedec registrado con exito!")}}):this.dataForm.markAllAsTouched()}onClose(){this.onCloseModal.emit(!1),this.dataForm.reset()}resetdataForm(){this.dataForm.reset(),this.onClose()}static \u0275fac=function(o){return new(o||n)(H(ae),H(k))};static \u0275cmp=b({type:n,selectors:[["app-caedec-create"]],inputs:{data:"data"},outputs:{onCloseModal:"onCloseModal"},standalone:!0,features:[G,w],decls:19,vars:9,consts:[[1,"mb-5","text-lg","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"w-full",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-1","gap-4","mb-4"],[1,"relative","mt-6","flex","items-center"],["name","nombre","id","nombre","placeholder","Nombre","formControlName","nombre","autocomplete","NA","rows","1",1,"peer","mt-1","w-96","border-b-2","border-gray-300","px-2","py-1.5","bg-gray-100","placeholder:text-transparent","focus:border-gray-500","focus:outline-none","focus:bg-white","rounded-md","text-sm",3,"input","ngClass"],["for","nombre",1,"pointer-events-none","absolute","top-0","left-0","origin-left","-translate-y-1/2","transform","text-sm","text-gray-800","opacity-75","transition-all","duration-100","ease-in-out","peer-placeholder-shown:top-1/2","peer-placeholder-shown:text-base","peer-placeholder-shown:text-gray-500","peer-focus:top-0","peer-focus:pl-0","peer-focus:text-sm","peer-focus:text-gray-800"],["class","absolute -right-4 text-red-500",4,"ngIf"],["type","text","name","actividad","id","actividad","placeholder","Actividad","formControlName","actividad","autocomplete","NA",1,"peer","mt-1","w-full","border-b-2","border-gray-300","px-2","py-1.5","bg-gray-100","placeholder:text-transparent","focus:border-gray-500","focus:outline-none","focus:bg-white","rounded-md","text-sm",3,"ngClass"],[1,"my-5"],["type","submit",1,"text-white","bg-blue-600","hover:bg-blue-700","font-medium","rounded-lg","w-full","sm:w-auto","px-5","py-2.5","text-center"],["type","button",1,"text-white","ms-2","bg-gray-700","hover:bg-gray-800","font-medium","rounded-lg","w-full","sm:w-auto","px-5","py-2.5","text-center",3,"click"],[1,"absolute","-right-4","text-red-500"]],template:function(o,e){if(o&1&&(i(0,"h5",0),d(1,"Ingresar datos"),a(),i(2,"form",1),c("ngSubmit",function(){return e.onSubmit()}),i(3,"div",2)(4,"div",3)(5,"textarea",4),c("input",function(l){return e.autoExpand(l)}),a(),i(6,"label",5),d(7,"Nombre"),a(),p(8,Fe,2,0,"div",6),a(),i(9,"div",3),u(10,"input",7),i(11,"label",5),d(12,"Actividad"),a(),p(13,Te,2,0,"div",6),a()(),i(14,"div",8)(15,"button",9),d(16,"Submit"),a(),i(17,"button",10),c("click",function(){return e.onClose()}),d(18,"Cancel"),a()()()),o&2){let r,l,h,_;m(2),s("formGroup",e.dataForm),m(3),s("ngClass",R(5,xe,((r=e.dataForm.get("nombre"))==null?null:r.hasError("required"))&&((r=e.dataForm.get("nombre"))==null?null:r.touched))),m(3),s("ngIf",((l=e.dataForm.get("nombre"))==null?null:l.hasError("required"))&&((l=e.dataForm.get("nombre"))==null?null:l.touched)),m(2),s("ngClass",R(7,xe,((h=e.dataForm.get("actividad"))==null?null:h.hasError("required"))&&((h=e.dataForm.get("actividad"))==null?null:h.touched))),m(3),s("ngIf",((_=e.dataForm.get("actividad"))==null?null:_.hasError("required"))&&((_=e.dataForm.get("actividad"))==null?null:_.touched))}},dependencies:[S,Y,Z,E,re,te,F,T,$,ie,ne]})};var Ie=()=>[5,10,25,100];function ke(n,t){n&1&&(i(0,"th",26),d(1," Id "),a())}function De(n,t){if(n&1&&(i(0,"td",27),d(1),a()),n&2){let o=t.$implicit;m(),v(" ",o.id," ")}}function Ne(n,t){n&1&&(i(0,"th",26),d(1," Nombre "),a())}function Oe(n,t){if(n&1&&(i(0,"td",27),d(1),a()),n&2){let o=t.$implicit;m(),v(" ",o.nombre," ")}}function Ae(n,t){n&1&&(i(0,"th",26),d(1," Actividad "),a())}function Pe(n,t){if(n&1&&(i(0,"td",27),d(1),a()),n&2){let o=t.$implicit;m(),v(" ",o.actividad," ")}}function Ve(n,t){n&1&&(i(0,"th",26),d(1," Opciones "),a())}function He(n,t){if(n&1){let o=Q();i(0,"td",27)(1,"div",28)(2,"button",29),c("click",function(){let r=O(o).$implicit,l=L();return A(l.loadCaedec(r))}),i(3,"i",30),P(),i(4,"svg",31),u(5,"path",32),a(),V(),i(6,"span",33),d(7," Editar Caedec "),a()()()(),i(8,"div",28)(9,"button",34),c("click",function(){let r=O(o).$implicit,l=L();return A(l.deleteCaedec(r.id))}),i(10,"i",35),P(),i(11,"svg",36),u(12,"path",37)(13,"line",38)(14,"line",39)(15,"line",40)(16,"path",41)(17,"path",42),a(),V(),i(18,"span",33),d(19," Eliminar caedec "),a()()()()()}}function Le(n,t){n&1&&u(0,"tr",43)}function Re(n,t){n&1&&u(0,"tr",44)}var W=class n{caedecs=z([]);Caedec;caeService=f(k);toastr=f(I);isModalOpen=!1;displayedColumns=["id","nombre","actividad","actions"];dataSource=new be([]);paginator;filterId="";filterName="";filterActivity="";ngOnInit(){this.getCaedecs()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getCaedecs(){this.caeService.getCaedecs().subscribe({next:t=>{this.caedecs.set(t),this.dataSource.data=t,this.applyFilter()},error:()=>{this.toastr.error("Error al cargar los datos")}})}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.getCaedecs()}loadCaedec(t){console.log(t),this.Caedec=t,this.openModal()}deleteCaedec(t){this.caeService.eliminaCaedec(t).subscribe({next:()=>{this.toastr.success("Caedec Eliminado"),this.getCaedecs()}})}applyFilter(){this.dataSource.filterPredicate=(t,o)=>{let[e,r,l]=o.trim().split(";");return(e?t.id.toString().toLowerCase().includes(e):!0)&&(r?t.nombre.toLowerCase().includes(r):!0)&&(l?t.actividad.toLowerCase().includes(l):!0)},this.dataSource.filter=[this.filterId.toLowerCase(),this.filterName.toLowerCase(),this.filterActivity.toLowerCase()].join(";")}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-caedec"]],viewQuery:function(o,e){if(o&1&&J(D,5),o&2){let r;K(r=U())&&(e.paginator=r.first)}},standalone:!0,features:[w],decls:35,vars:10,consts:[[1,"mx-auto","sm:px-6","lg:px-8","mb-6"],[1,"mx-4","pb-6","text-3xl","font-bold","text-gray-800"],[1,"border-t-4","border-t-indigo-500","-mt-4","ml-5","w-36"],[1,"mx-auto","sm:px-6","lg:px-8"],[1,"bg-white","overflow-hidden","shadow-xl","sm:rounded-lg","px-4","py-4","dark:bg-gray-800/50","dark:bg-gradient-to-bl"],[1,"flex","items-center","justify-between","dark:text-gray-400","mb-4"],[1,"space-x-8"],["type","button",1,"focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","mt-4","sm:mt-0","inline-flex","items-start","justify-start","px-6","py-3","bg-blue-600","hover:bg-blue-800","focus:outline-none","rounded",3,"click"],[1,"text-sm","font-medium","leading-none","text-white"],[1,"flex","space-x-4"],["matInput","","placeholder","Filtro por ID",3,"ngModelChange","ngModel"],["matInput","","placeholder","Filtro por nombre",3,"ngModelChange","ngModel"],["matInput","","placeholder","Filtro por actividad",3,"ngModelChange","ngModel"],[1,"shadow","overflow-hidden","border-b","border-gray-200","sm:rounded-lg"],["mat-table","",1,"no-border-table","w-full","divide-y","divide-gray-200","table-auto",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","actividad"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"closeModal","isOpen"],[3,"onCloseModal","data"],["mat-header-cell",""],["mat-cell",""],[1,"group","relative","inline-block","whitespace-nowrap"],[1,"bg-gray-700","w-8","h-8","rounded-full","hover:bg-gray-400","flex","items-center","justify-center",3,"click"],[1,"fas","fa-edit","text-white"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-white-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["role","tooltip",1,"pointer-events-none","absolute","z-50","inline-flex","items-center","justify-center","rounded-md","px-3","py-1","font-semibold","opacity-0","transition-opacity","duration-300","ease-in-out","group-hover:opacity-100","bg-stone-50","text-stone-700","min-h-7","text-sm","left-1/2","-translate-x-1/2","after:absolute","after:block","after:size-0","after:border-8","after:border-transparent","after:border-t-stone-50","after:-bottom-[0.95rem]","after:left-1/2","after:-translate-x-1/2","top-[-2.5rem]"],[1,"bg-red-600","w-8","h-8","rounded-full","hover:bg-red-400","ml-2","flex","items-center","justify-center",3,"click"],[1,"text-white"],["width","4","height","4","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"h-5","w-5","text-white-500"],["stroke","none","d","M0 0h24v24H0z"],["x1","4","y1","7","x2","20","y2","7"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["d","M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"],["d","M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"],["mat-header-row",""],["mat-row",""]],template:function(o,e){o&1&&(i(0,"div")(1,"div",0)(2,"h2",1),d(3," Caedec "),a(),u(4,"div",2),a(),i(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"button",7),c("click",function(){return e.openModal()}),i(10,"p",8),d(11,"Add Caedec"),a()()(),i(12,"div",9)(13,"input",10),x("ngModelChange",function(l){return M(e.filterId,l)||(e.filterId=l),l}),c("ngModelChange",function(){return e.applyFilter()}),a(),i(14,"input",11),x("ngModelChange",function(l){return M(e.filterName,l)||(e.filterName=l),l}),c("ngModelChange",function(){return e.applyFilter()}),a(),i(15,"input",12),x("ngModelChange",function(l){return M(e.filterActivity,l)||(e.filterActivity=l),l}),c("ngModelChange",function(){return e.applyFilter()}),a()()(),i(16,"div",13)(17,"table",14),C(18,15),p(19,ke,2,0,"th",16)(20,De,2,1,"td",17),g(),C(21,18),p(22,Ne,2,0,"th",16)(23,Oe,2,1,"td",17),g(),C(24,19),p(25,Ae,2,0,"th",16)(26,Pe,2,1,"td",17),g(),C(27,20),p(28,Ve,2,0,"th",16)(29,He,20,0,"td",17),g(),p(30,Le,1,0,"tr",21)(31,Re,1,0,"tr",22),a(),u(32,"mat-paginator",23),a()()(),i(33,"app-modal",24),c("closeModal",function(){return e.closeModal()}),i(34,"app-caedec-create",25),c("onCloseModal",function(){return e.closeModal()}),a()()()),o&2&&(m(13),y("ngModel",e.filterId),m(),y("ngModel",e.filterName),m(),y("ngModel",e.filterActivity),m(2),s("dataSource",e.dataSource),m(13),s("matHeaderRowDef",e.displayedColumns),m(),s("matRowDefColumns",e.displayedColumns),m(),s("pageSizeOptions",X(9,Ie)),m(),s("isOpen",e.isModalOpen),m(),s("data",e.Caedec))},dependencies:[S,le,E,N,oe,F,T,ee,ve,D,_e,de,se,fe,ce,me,Ce,pe,ue,ge,he,Me,ye],styles:[".no-border-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%], .no-border-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border:none!important}.no-border-table[_ngcontent-%COMP%]{border-collapse:collapse}.no-border-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:none}"]})};export{W as default};
